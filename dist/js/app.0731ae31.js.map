{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?ec75","webpack:///./src/App.vue","webpack:///./src/components/threejs.vue","webpack:///src/components/threejs.vue","webpack:///./src/components/threejs.vue?8a74","webpack:///./src/components/threejs.vue?d8ce","webpack:///src/App.vue","webpack:///./src/App.vue?03b3","webpack:///./src/App.vue?315a","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticRenderFns","staticStyle","attrs","on","onFileChange","_v","_s","nodeName","coordinateDisplay","$event","disappearWallfun","ref","staticClass","scene","THREE","camera","innerWidth","innerHeight","renderer","antialias","controls","mouse","raycaster","selectedObject","outlinePass","composer","renderPass","axesHelper","gltf","isDisappearWall","elementDetail","methods","initScene","background","Color","box","setFromObject","size","getSize","center","getCenter","position","sub","rotation","set","near","far","fov","copy","x","y","z","lookAt","updateProjectionMatrix","console","log","add","setClearColor","setPixelRatio","devicePixelRatio","width","height","setSize","$refs","canvasContainer","appendChild","domElement","OrbitControls","screenSpacePanning","ambientLight","directionalLight","normalize","EffectComposer","RenderPass","addPass","OutlinePass","visibleEdgeColor","animate","update","requestAnimationFrame","setFromCamera","selectedObjects","event","file","target","files","reader","FileReader","onload","e","contents","loadGLTFModel","readAsArrayBuffer","buffer","loader","GLTFLoader","parse","addEventListener","handleClick","handleResize","aspect","clientX","clientY","restoreHighlight","intersects","intersectObjects","children","clear","clickedObject","id","material","intersectedPoint","point","setCamera","transparent","opacity","url","axios","baseURL","headers","then","response","forEach","it","category","floor","modelName","propertyname","catch","error","highlight","emissive","traverse","child","isMesh","sameCategory","includes","visible","boundingSphere","geometry","clone","targetPosition","distance","newPosition","component","components","ThreeJs","Vue","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.0731ae31.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=1ff33644&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('ThreeJs')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\",\"gap\":\"50px\"}},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\".gltf,.glb\",\"multiple\":\"\"},on:{\"change\":_vm.onFileChange}}),_c('div',[_vm._v(\"名称：\"+_vm._s(_vm.nodeName))]),_c('div',[_vm._v(\"坐标：\"+_vm._s(_vm.coordinateDisplay))]),_c('div',[_c('button',{on:{\"click\":function($event){return _vm.disappearWallfun(2217802)}}},[_vm._v(\"隐藏墙壁\")]),_c('button',{on:{\"click\":function($event){return _vm.disappearWallfun(1701952)}}},[_vm._v(\"隐藏柱子\")]),_c('button',{on:{\"click\":function($event){return _vm.disappearWallfun(2239507)}}},[_vm._v(\"隐藏窗户\")])])]),_c('div',{ref:\"canvasContainer\",staticClass:\"canvas-container\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div style=\"display: flex; gap: 50px\">\r\n      <input type=\"file\" @change=\"onFileChange\" accept=\".gltf,.glb\" multiple />\r\n      <div>名称：{{ nodeName }}</div>\r\n      <div>坐标：{{ coordinateDisplay }}</div>\r\n      <div>\r\n        <button @click=\"disappearWallfun(2217802)\">隐藏墙壁</button>\r\n        <button @click=\"disappearWallfun(1701952)\">隐藏柱子</button>\r\n        <button @click=\"disappearWallfun(2239507)\">隐藏窗户</button>\r\n\r\n      </div>\r\n    </div>\r\n    <div ref=\"canvasContainer\" class=\"canvas-container\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\n// 引入three.js\r\nimport * as THREE from \"three\";\r\n// 导入轨道控制器\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { Color } from \"three\";\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"ThreeJs\",\r\n  data() {\r\n    return {\r\n      scene: new THREE.Scene(),\r\n      camera: new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000),\r\n      renderer: new THREE.WebGLRenderer({ antialias: true }),\r\n      controls: null,\r\n      mouse: new THREE.Vector2(),  // 初始化鼠标向量\r\n      raycaster: new THREE.Raycaster(), // 初始化射线检测器\r\n      nodeName: \"\",\r\n      coordinateDisplay: \"\",\r\n      selectedObject: null,\r\n      outlinePass: null,\r\n      composer: null,\r\n      renderPass: null,\r\n      axesHelper: new THREE.AxesHelper(5), //增加坐标轴\r\n      object: null,  // 加载模型\r\n      gltf: null,\r\n      isDisappearWall: false,\r\n      elementDetail: null  // 点击事件返回元素详情\r\n    };\r\n  },\r\n  methods: {\r\n    initScene(object) {\r\n      //添加辅助线\r\n      // this.scene.add(new THREE.AxesHelper(20));\r\n      this.scene.background = new Color('#191919');\r\n\r\n      // 计算包围盒\r\n      const box = new THREE.Box3().setFromObject(object);\r\n      const size = box.getSize(new THREE.Vector3()).length();\r\n      const center = box.getCenter(new THREE.Vector3());\r\n\r\n\r\n\r\n      object.position.sub(center);      // 调整模型的位置使其中心对齐到 (0, 0, 0)\r\n      object.rotation.set(270, 0, 0); // 初始化模型旋转\r\n\r\n      this.camera.near = size / 100;\r\n      this.camera.far = size * 100;\r\n      this.camera.fov = 60; // 调整视野\r\n\r\n\r\n      this.camera.position.copy(center);\r\n\r\n      // this.camera.position.x += size / 2.0;\r\n      // this.camera.position.y += size / 2.0;\r\n      // this.camera.position.z += size / 2.0;\r\n\r\n      // 先固定初始化相机位置\r\n      this.camera.position.x = 8\r\n      this.camera.position.y = 115;\r\n      this.camera.position.z = 195;\r\n\r\n      this.camera.lookAt(center);\r\n      this.camera.updateProjectionMatrix();\r\n      console.log(72, this.camera);\r\n      console.log(73, size);\r\n      this.scene.add(this.camera);\r\n\r\n      this.renderer.setClearColor(0xcccccc);\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n      let width = window.innerWidth;\r\n      let height = window.innerHeight;\r\n      this.renderer.setSize(width, height);\r\n\r\n      this.$refs.canvasContainer.appendChild(this.renderer.domElement);\r\n\r\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n      this.controls.screenSpacePanning = true; // 不支持平移\r\n      // 设置自动旋转\r\n      // this.controls.autoRotate = true;\r\n\r\n      const ambientLight = new THREE.AmbientLight('#fff', 2); // 环境光\r\n      this.scene.add(ambientLight);\r\n\r\n      const directionalLight = new THREE.DirectionalLight('#fff', 1);\r\n      directionalLight.position.set(1, 1, 1).normalize();\r\n      this.scene.add(directionalLight);\r\n\r\n      this.composer = new EffectComposer(this.renderer);\r\n      this.renderPass = new RenderPass(this.scene, this.camera);\r\n      this.composer.addPass(this.renderPass);\r\n\r\n      this.outlinePass = new OutlinePass(new THREE.Vector2(window.innerWidth, window.innerHeight), this.scene, this.camera);\r\n      this.outlinePass.visibleEdgeColor.set(0xffff00); // 高亮颜色\r\n      this.composer.addPass(this.outlinePass);\r\n\r\n      this.animate();\r\n\r\n      this.scene.add(object);\r\n    },\r\n    animate() {\r\n      this.controls.update(); // 更新控制器\r\n      requestAnimationFrame(this.animate);\r\n\r\n      // 添加射线检测\r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      // 设置当前选中的物体（如果有）\r\n      this.outlinePass.selectedObjects = this.selectedObject ? [this.selectedObject] : [];\r\n      this.composer.render();\r\n    },\r\n    onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      console.log(115, event.target.files);\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const contents = e.target.result;\r\n          this.loadGLTFModel(contents);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n      }\r\n    },\r\n\r\n    loadGLTFModel(buffer) {\r\n      const loader = new GLTFLoader();\r\n      loader.parse(buffer, '', (gltf) => {\r\n        this.gltf = gltf;\r\n\r\n        // gltf.scene.position={x:0,y:0,z:0}\r\n        console.log(132, '当前位置：', gltf.scene.position);\r\n        this.initScene(gltf.scene);\r\n        this.object = gltf.scene\r\n        console.log(136, 'camera:', gltf.camera);\r\n        // 设置鼠标事件\r\n        window.addEventListener('click', this.handleClick);\r\n\r\n        // 监听窗口变化\r\n        window.addEventListener(\"resize\", this.handleResize);\r\n\r\n        // 监听鼠标滑动事件\r\n\r\n      });\r\n    },\r\n\r\n    handleResize() {\r\n      let width = window.innerWidth;\r\n      let height = window.innerHeight;\r\n\r\n      // 重置渲染器宽高比\r\n      this.renderer.setSize(width, height);\r\n      // 重置相机宽高比\r\n      this.camera.aspect = width / height;\r\n      // 更新相机的投影矩阵\r\n      this.camera.updateProjectionMatrix();\r\n\r\n    },\r\n    handleClick(event) {\r\n\r\n      // console.log(171, 'camera.position: ', this.camera.position.x, this.camera.position.y, this.camera.position.z);\r\n      // 获取鼠标位置并转换为标准化设备坐标\r\n      this.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      this.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      this.restoreHighlight();\r\n\r\n      // 使用射线检测\r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      const intersects = this.raycaster.intersectObjects(this.scene.children, true);\r\n\r\n\r\n      console.log(\"当前模型：\", this.object);\r\n      if (intersects.length > 0) {\r\n        console.clear();\r\n\r\n        let clickedObject = intersects[0].object;\r\n        let id = clickedObject.name;\r\n        console.log('选中物体信息:', clickedObject);\r\n        console.log('选中物体材质:', clickedObject.material);\r\n        console.log('选中物体name:', id);\r\n\r\n        this.nodeName = clickedObject.material.name;\r\n        this.selectedObject = clickedObject;\r\n        const intersectedPoint = intersects[0].point;\r\n        this.coordinateDisplay = `(x轴：${intersectedPoint.x}, y轴：${intersectedPoint.y}, z轴：${intersectedPoint.z})`;\r\n\r\n        //移动相机\r\n        this.setCamera(event, intersects);\r\n\r\n        // 获取透明度\r\n        clickedObject.material.transparent = true;\r\n        clickedObject.material.opacity == 1 ? clickedObject.material.opacity = 0.1 : clickedObject.material.opacity = 1\r\n        // 设置透明度为0.5 ,1 是不透明，0 是透明\r\n\r\n        // 使用axios调用通过id查询接口\r\n        let url = '/get?id=' + id;\r\n        axios.get(url, {\r\n          baseURL: 'http://localhost:3000',\r\n          headers: { 'Content-Type': 'application/json' }\r\n        }).then(response => {\r\n          this.elementDetail = response.data.data;\r\n          this.elementDetail.forEach(it => {\r\n            if (it.value != null || it.value.length > 0) {\r\n              console.log(`${it.category},${it.floor},${it.modelName} ---- ${it.propertyname} : ${it.value == null ? '无' : it.value}`);\r\n            }\r\n          })\r\n        }).catch(error => {\r\n          console.error(error);\r\n        });\r\n\r\n\r\n\r\n\r\n      } else {\r\n        this.selectedObject = null;\r\n      }\r\n    },\r\n\r\n\r\n    //\t选中物体高亮\r\n    highlight(object) {\r\n      console.log('选中ID：', object.id)\r\n      object.material.emissive = new THREE.Color(0xffff00);\r\n    },\r\n    restoreHighlight() {\r\n      // 遍历子对象，恢复未高亮\r\n      this.scene.traverse((child) => {\r\n        if (child.isMesh) {\r\n          child.material.emissive = new THREE.Color(0x000000); // 恢复原颜色\r\n        }\r\n      });\r\n    },\r\n\r\n    disappearWallfun(id) {\r\n      console.log(231, this.isDisappearWall, id, this.object);\r\n      // if (this.isDisappearWall == false) {\r\n      //   this.object.children.forEach(it => {\r\n      //     if (it.material.name == id) {\r\n      //       it.material.visible = true;\r\n      //     }\r\n      //     this.isDisappearWall = true;\r\n      //   });\r\n      // } else {\r\n      //   this.object.children.forEach(it => {\r\n      //     if (it.material.name == id) {\r\n      //       it.material.visible = false;\r\n      //     }\r\n      //     this.isDisappearWall = false;\r\n      //   });\r\n      // }\r\n\r\n      // 使用axios调用通过id查询接口\r\n      let url = '/getSameCategoryElement?id=' + id;\r\n      axios.get(url, {\r\n        baseURL: 'http://localhost:3000',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      }).then(response => {\r\n        console.log('同类物体：', response.data.data);\r\n        let sameCategory = response.data.data;\r\n        if (this.isDisappearWall == false) {\r\n          this.object.children.forEach(it => {\r\n            if (sameCategory.includes(it.name)) {\r\n              it.material.visible = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.object.children.forEach(it => {\r\n            if (sameCategory.includes(it.name)) {\r\n              it.material.visible = true;\r\n            }\r\n          });\r\n        }\r\n      }).catch(error => {\r\n        console.error(error);\r\n      });\r\n\r\n      this.isDisappearWall == true ? this.isDisappearWall = false : this.isDisappearWall = true;\r\n\r\n    },\r\n\r\n    // 设置相机位置\r\n    setCamera(event, intersects) {\r\n      // console.clear();\r\n      console.log(305, this.camera);\r\n      let oldPosition = this.camera.position; // 当前相机位置\r\n\r\n\r\n      let clickedObject = intersects[0].object; // 选中物体\r\n      let boundingSphere = clickedObject.geometry.boundingSphere;// 获取模型的boundingSphere对象\r\n      let center = boundingSphere.center.clone(); //计算点击元素的中心点\r\n\r\n      let targetPosition = intersects[0].point; // 目标位置，即点击元素的位置\r\n      console.log(314,'选中元素中心点坐标：',center);\r\n\r\n      // 设置相机\r\n      let distance =20 ; \r\n      let newPosition = new THREE.Vector3(targetPosition.x, targetPosition.y+distance*3, targetPosition.z*3);\r\n\r\n      this.camera.position.copy(newPosition);\r\n      this.camera.lookAt(center);\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threejs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threejs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./threejs.vue?vue&type=template&id=63a54f1e&scoped=true\"\nimport script from \"./threejs.vue?vue&type=script&lang=js\"\nexport * from \"./threejs.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63a54f1e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <ThreeJs />\n  </div>\n</template>\n\n<script>\n// 引入ThreeJs组件\nimport ThreeJs from \"./components/threejs.vue\";\nexport default {\n  name: \"App\",\n  components: {\n    ThreeJs, // 注册ThreeJs组件\n  },\n};\n</script>\n\n<style>\n* {\n  padding: 0;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1ff33644\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=1ff33644&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}